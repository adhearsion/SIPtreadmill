{"name":"SIP Treadmill","tagline":"Web application to faciliate benchmarking and testing SIP based services","body":"# SIP Treadmill\r\n\r\nSIP load test tool originally built with support from AT&amp;T Foundry.\r\n\r\n## Core Concepts\r\n\r\n### Test Run\r\n\r\nTest Runs are the focal point of SIP Treadmill. When a Test Run is started, SIP traffic is sent via SIPp and analyzed by SIPp and an RTCP listener. Each Test Run is comprised of one or more Scenarios, a Profile, and a Target.\r\n\r\n### Scenario\r\n\r\nScenarios describe how the calls in a Test Run behave. Call duration, DTMF input, and the beginning and end of the call are all described in the Scenario. Scenarios may be specified in either the [SIPp](http://sipp.sourceforge.net) or [SippyCup](https://github.com/mojolingo/sippy_cup) formats.\r\n\r\n### Profile\r\n\r\nThe profile describes the call volume produced by the Test Run. The profile has three main fields: calls per second (how many calls are generated each second), concurrent calls (the number of calls that can occur at one time), and total number of calls for the test run.\r\n\r\n### Target\r\n\r\nThe target describes the server on which the SIP application being tested is running. Each target has a name, an IP address, and an optional SSH username. If the user has SSH access to the target machine, system performance metrics can be gathered and analyzed by SIP Treadmill.\r\n\r\n## The Setup\r\n\r\n### Prerequisites\r\n\r\n* An [AT&T APIMatrix](https://apimatrix.tfoundry.com) account, or a [GitHub](https://github.com) account.\r\n* An AT&T APIMatrix application with profile access, or a GitHub application with user access. Credentials for such. Callback URL is `http://yourdomain.com/users/auth/github` or `/users/auth/att`.\r\n* Amazon S3 bucket and credentials for file uploads.\r\n\r\n### Installation from packages\r\n\r\nThe preferred method of installation of SIP Treadmill is to Ubuntu 14.04 via a package:\r\n\r\n```\r\nwget -qO - https://deb.packager.io/key | sudo apt-key add -\r\necho \"deb https://deb.packager.io/gh/att-innovate/SIPtreadmill trusty master\" | sudo tee /etc/apt/sources.list.d/SIPtreadmill.list\r\nsudo apt-get -y update\r\nsudo apt-get -y install siptreadmill\r\n```\r\n\r\nAfter installing the application, you will be requested to run `sudo siptreadmill configure` to complete installation and setup of the database, Redis, SIPp, and a front-end webserver (Apache2), as well as to configure some essential settings of the application.\r\n\r\nSIP Treadmill should then be running on port 80.\r\n\r\n### Configuration\r\n\r\nThe majority of configuration for SIP Treadmill is done via environment variables. These environment variables are:\r\n<dl>\r\n  <dt>COOKIE_SECRET</dt>\r\n  <dd>A secret token used to sign cookies. Should be at least 30 random characters long.</dd>\r\n  <dt>OMNIAUTH_TYPE</dt>\r\n  <dd>The omniauth method to use. Valid options are 'github' and 'att'</dd>\r\n  <dt>APIMATRIX_KEY</dt>\r\n  <dd>The Client ID for your APIMatrix application</dd>\r\n  <dt>APIMATRIX_SECRET</dt>\r\n  <dd>The Client Secret for your APIMatrix application</dd>\r\n  <dt>GITHUB_KEY</dt>\r\n  <dd>The Client ID of your GitHub application</dd>\r\n  <dt>GITHUB_SECRET</dt>\r\n  <dd>The Client secret for your GitHub application</dd>\r\n  <dt>AWS_ACCESS_KEY_ID</dt>\r\n  <dd>The access key ID for your Amazon S3</dd>\r\n  <dt>AWS_SECRET_ACCESS_KEY</dt>\r\n  <dd>The access key secret for your Amazon S3</dd>\r\n  <dt>AWS_S3_BUCKET</dt>\r\n  <dd>The name of the Amazon S3 bucket for storage</dd>\r\n  <dt>TEST_RUN_BIND_IP</dt>\r\n  <dd>The IP address to bind to for sending SIP traffic</dd>\r\n</dl>\r\n\r\nYou can change these settings using `sudo siptreadmill config:set KEY=value`.\r\n\r\n### Dependencies (for manual installation)\r\n\r\nIn order to get started with Treadmill, the following are required:\r\n\r\n* [SIPp](http://sipp.sourceforge.net) - MUST BE A DEVELOPMENT BUILD, see https://github.com/SIPp/sipp/pull/106\r\n* [Redis](http://redis.io)\r\n* [PostgreSQL](http://www.postgresql.org/) (preferred, but any other Rails-compatible database will do)\r\n\r\nEnsure that the user running the worker process has passwordless sudo access to run SIPp.\r\n\r\n## Development environment\r\n\r\n1. Install [virtualbox](https://www.virtualbox.org/wiki/Downloads)\r\n2. Install [vagrant](http://vagrantup.com)\r\n3. Clone this repository.\r\n4. Add the [librarian-chef plugin](https://github.com/jimmycuadra/vagrant-librarian-chef) to your Vagrant installation by doing `vagrant plugin install vagrant-librarian-chef`.\r\n4. Build the VMs: `vagrant up`\r\n5. SSH into the `dev` VM (`vagrant ssh dev`), move to `/srv/treadmill/current` and run the specs (`rake spec`)\r\n6. Launch the app (`foreman start`).\r\n6. You can access the app via http://dev.local.treadmill.mojolingo.net:5000/\r\n\r\nThe app is shared with the VM, and everything runs in the VM, but you can use your editor on the host machine.\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}